var o=0,s=0,f=0,I=1e3,h,c,p=0,r=0,m=0,u=typeof performance=="object"&&performance.now?performance:Date,F=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function k(){return r||(F(j),r=u.now()+m)}function j(){r=0}function l(){this._call=this._time=this._next=null}l.prototype=q.prototype={constructor:l,restart:function(n,t,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?k():+i)+(t==null?0:+t),!this._next&&c!==this&&(c?c._next=this:h=this,c=this),this._call=n,this._time=i,v()},stop:function(){this._call&&(this._call=null,this._time=1/0,v())}};function q(n,t,i){var e=new l;return e.restart(n,t,i),e}function A(){k(),++o;for(var n=h,t;n;)(t=r-n._time)>=0&&n._call.call(void 0,t),n=n._next;--o}function T(){r=(p=u.now())+m,o=s=0;try{A()}finally{o=0,N(),r=0}}function D(){var n=u.now(),t=n-p;t>I&&(m-=t,p=n)}function N(){for(var n,t=h,i,e=1/0;t;)t._call?(e>t._time&&(e=t._time),n=t,t=t._next):(i=t._next,t._next=null,t=n?n._next=i:h=i);c=n,v(e)}function v(n){if(!o){s&&(s=clearTimeout(s));var t=n-r;t>24?(n<1/0&&(s=setTimeout(T,n-u.now()-m)),f&&(f=clearInterval(f))):(f||(p=u.now(),f=setInterval(D,I)),o=1,F(T))}}function $(n,t,i){var e=new l;return t=t==null?0:+t,e.restart(w=>{e.stop(),n(w+t)},t,i),e}function E(n,t,i){var e=new l,w=t;return t==null?(e.restart(n,t,i),e):(e._restart=e.restart,e.restart=function(b,_,a){_=+_,a=a==null?k():+a,e._restart(function y(x){x+=w,e._restart(y,w+=_,a),b(x)},_,a)},e.restart(n,t,i),e)}export{A as a,$ as b,E as i,k as n,q as t};
