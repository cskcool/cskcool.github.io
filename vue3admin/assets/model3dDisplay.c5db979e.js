import{S as g,C as M,P as x,H as y,D as S,W as E,s as L,a as P,M as v,b as C,c as D,T as k,E as A,G as F,A as G,O as R,d as W}from"./three.1e29cb65.js";import{l as H,d as q,c as B,o as I}from"./@vue.2de838a1.js";import{_ as T}from"./index.f296a433.js";import"./vue-echarts.5193e598.js";import"./resize-detector.1805e1ab.js";import"./echarts.0420e38c.js";import"./tslib.0d9e002a.js";import"./zrender.04453364.js";import"./@element-plus.a29bcabf.js";import"./element-plus.5fccd8a0.js";import"./lodash-es.40e11708.js";import"./@vueuse.3e17e0c9.js";import"./@sxzz.53dd9bd6.js";import"./@ctrl.46158b0f.js";import"./dayjs.946139a6.js";import"./async-validator.6019f6c6.js";import"./memoize-one.4555600d.js";import"./escape-html.ee221422.js";import"./normalize-wheel-es.8b342dbc.js";import"./@floating-ui.6d94b87d.js";import"./vue-i18n.7b288722.js";import"./@intlify.2be7587d.js";import"./pinia.7cf17980.js";import"./vue-demi.03c5b283.js";import"./xe-utils.70389315.js";/* empty css                     */import"./vxe-table.b52143d8.js";import"./axios.0fca6a18.js";import"./form-data.cf705ae8.js";import"./js-cookie.9a5410bd.js";import"./@wangeditor.c469aefe.js";import"./yup.f12b920e.js";import"./nanoclone.76ad5e25.js";import"./lodash.32f48334.js";import"./property-expr.8748984a.js";import"./toposort.37803eaf.js";import"./vue-router.13cd3834.js";import"./nprogress.9e1d10bf.js";const z={class:"relative w-full frame-3d",id:"three"},b=H({__name:"model3dDisplay",setup(Z){function u(){let i,t,a,l;const m=[];t=new g,t.background=new M("#000"),i=new x(35,(window.innerWidth-201)/window.innerHeight,1,500),i.position.set(-100,80,100),t.add(i);const h=new y(16777215,4473924);h.position.set(0,100,0),t.add(h);const o=new S(16777215);o.position.set(-0,40,50),o.castShadow=!0,o.shadow.camera.top=50,o.shadow.camera.bottom=-25,o.shadow.camera.left=-25,o.shadow.camera.right=25,o.shadow.camera.near=.1,o.shadow.camera.far=200,o.shadow.mapSize.set(1024,1024),t.add(o),a=new E({antialias:!0});const p=document.querySelector("#three");a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth-201,window.innerHeight),a.outputEncoding=L,a.shadowMap.enabled=!0,a.shadowMap.type=P,p==null||p.appendChild(a.domElement);const s=new v(new C(150,150),new D({color:10066329,depthWrite:!1}));s.rotation.x=-Math.PI/2,s.position.set(0,0,0),s.receiveShadow=!0,t.add(s),new k().load("3dMode/island.3mf",function(e){e.quaternion.setFromEuler(new A(-Math.PI/2,0,0)),e.position.set(-10,25,-30),e.scale.set(150,150,150),e.traverse(function(n){n.castShadow=!0}),l=e,t.add(l),w()});let c,d;const f=new W;new F().load("3dMode/psyduck.gltf",e=>{e.scene.position.set(-20,10,39),e.scene.scale.set(.3,.3,.3),c=e.scene,d=new G(c),console.log("----------->",d,c),e.animations.forEach(n=>{d.clipAction(n).play()}),m.push(d),t.add(e.scene)});function _(){a.render(t,i)}function w(){requestAnimationFrame(w);const e=f.getDelta();m&&m.forEach(n=>n.update(e)),_()}const r=new R(i,a.domElement);r.enableDamping=!0,r.dampingFactor=.25,r.enableZoom=!0,r.autoRotate=!0,r.enablePan=!0,r.maxDistance=1e3}return q(()=>{u()}),(i,t)=>(I(),B("div",z))}});const ke=T(b,[["__scopeId","data-v-ff95f8c9"]]);export{ke as default};
