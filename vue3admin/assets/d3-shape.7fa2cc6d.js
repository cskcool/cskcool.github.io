import{P as en}from"./d3-path.30be82b0.js";function f(t){return function(){return t}}const Ct=Math.abs,N=Math.atan2,Y=Math.cos,sn=Math.max,J=Math.min,P=Math.sin,v=Math.sqrt,S=1e-12,V=Math.PI,st=V/2,L=2*V;function on(t){return t>1?0:t<-1?V:Math.acos(t)}function qt(t){return t>=1?st:t<=-1?-st:Math.asin(t)}function W(t){let n=3;return t.digits=function(i){if(!arguments.length)return n;if(i==null)n=null;else{const e=Math.floor(i);if(!(e>=0))throw new RangeError(`invalid digits: ${i}`);n=e}return t},()=>new en(n)}function rn(t){return t.innerRadius}function hn(t){return t.outerRadius}function an(t){return t.startAngle}function _n(t){return t.endAngle}function ln(t){return t&&t.padAngle}function un(t,n,i,e,r,s,h,o){var _=i-t,a=e-n,l=h-r,u=o-s,c=u*_-l*a;if(!(c*c<S))return c=(l*(n-s)-u*(t-r))/c,[t+c*_,n+c*a]}function it(t,n,i,e,r,s,h){var o=t-i,_=n-e,a=(h?s:-s)/v(o*o+_*_),l=a*_,u=-a*o,c=t+l,y=n+u,g=i+l,m=e+u,k=(c+g)/2,d=(y+m)/2,w=g-c,b=m-y,T=w*w+b*b,E=r-s,A=c*m-g*y,B=(b<0?-1:1)*v(sn(0,E*E*T-A*A)),z=(A*b-w*B)/T,I=(-A*w-b*B)/T,O=(A*b+w*B)/T,R=(-A*w+b*B)/T,M=z-k,p=I-d,x=O-k,F=R-d;return M*M+p*p>x*x+F*F&&(z=O,I=R),{cx:z,cy:I,x01:-l,y01:-u,x11:z*(r/E-1),y11:I*(r/E-1)}}function Kn(){var t=rn,n=hn,i=f(0),e=null,r=an,s=_n,h=ln,o=null,_=W(a);function a(){var l,u,c=+t.apply(this,arguments),y=+n.apply(this,arguments),g=r.apply(this,arguments)-st,m=s.apply(this,arguments)-st,k=Ct(m-g),d=m>g;if(o||(o=l=_()),y<c&&(u=y,y=c,c=u),!(y>S))o.moveTo(0,0);else if(k>L-S)o.moveTo(y*Y(g),y*P(g)),o.arc(0,0,y,g,m,!d),c>S&&(o.moveTo(c*Y(m),c*P(m)),o.arc(0,0,c,m,g,d));else{var w=g,b=m,T=g,E=m,A=k,B=k,z=h.apply(this,arguments)/2,I=z>S&&(e?+e.apply(this,arguments):v(c*c+y*y)),O=J(Ct(y-c)/2,+i.apply(this,arguments)),R=O,M=O,p,x;if(I>S){var F=qt(I/c*P(z)),Z=qt(I/y*P(z));(A-=F*2)>S?(F*=d?1:-1,T+=F,E-=F):(A=0,T=E=(g+m)/2),(B-=Z*2)>S?(Z*=d?1:-1,w+=Z,b-=Z):(B=0,w=b=(g+m)/2)}var H=y*Y(w),G=y*P(w),$=c*Y(E),j=c*P(E);if(O>S){var tt=y*Y(b),nt=y*P(b),ut=c*Y(T),ct=c*P(T),X;if(k<V)if(X=un(H,G,ut,ct,tt,nt,$,j)){var ft=H-X[0],pt=G-X[1],yt=tt-X[0],dt=nt-X[1],Rt=1/P(on((ft*yt+pt*dt)/(v(ft*ft+pt*pt)*v(yt*yt+dt*dt)))/2),Mt=v(X[0]*X[0]+X[1]*X[1]);R=J(O,(c-Mt)/(Rt-1)),M=J(O,(y-Mt)/(Rt+1))}else R=M=0}B>S?M>S?(p=it(ut,ct,H,G,y,M,d),x=it(tt,nt,$,j,y,M,d),o.moveTo(p.cx+p.x01,p.cy+p.y01),M<O?o.arc(p.cx,p.cy,M,N(p.y01,p.x01),N(x.y01,x.x01),!d):(o.arc(p.cx,p.cy,M,N(p.y01,p.x01),N(p.y11,p.x11),!d),o.arc(0,0,y,N(p.cy+p.y11,p.cx+p.x11),N(x.cy+x.y11,x.cx+x.x11),!d),o.arc(x.cx,x.cy,M,N(x.y11,x.x11),N(x.y01,x.x01),!d))):(o.moveTo(H,G),o.arc(0,0,y,w,b,!d)):o.moveTo(H,G),!(c>S)||!(A>S)?o.lineTo($,j):R>S?(p=it($,j,tt,nt,c,-R,d),x=it(H,G,ut,ct,c,-R,d),o.lineTo(p.cx+p.x01,p.cy+p.y01),R<O?o.arc(p.cx,p.cy,R,N(p.y01,p.x01),N(x.y01,x.x01),!d):(o.arc(p.cx,p.cy,R,N(p.y01,p.x01),N(p.y11,p.x11),!d),o.arc(0,0,c,N(p.cy+p.y11,p.cx+p.x11),N(x.cy+x.y11,x.cx+x.x11),d),o.arc(x.cx,x.cy,R,N(x.y11,x.x11),N(x.y01,x.x01),!d))):o.arc(0,0,c,E,T,d)}if(o.closePath(),l)return o=null,l+""||null}return a.centroid=function(){var l=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,u=(+r.apply(this,arguments)+ +s.apply(this,arguments))/2-V/2;return[Y(u)*l,P(u)*l]},a.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:f(+l),a):t},a.outerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:f(+l),a):n},a.cornerRadius=function(l){return arguments.length?(i=typeof l=="function"?l:f(+l),a):i},a.padRadius=function(l){return arguments.length?(e=l==null?null:typeof l=="function"?l:f(+l),a):e},a.startAngle=function(l){return arguments.length?(r=typeof l=="function"?l:f(+l),a):r},a.endAngle=function(l){return arguments.length?(s=typeof l=="function"?l:f(+l),a):s},a.padAngle=function(l){return arguments.length?(h=typeof l=="function"?l:f(+l),a):h},a.context=function(l){return arguments.length?(o=l==null?null:l,a):o},a}var cn=Array.prototype.slice;function at(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zt(t){this._context=t}zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function vt(t){return new zt(t)}function Tt(t){return t[0]}function bt(t){return t[1]}function It(t,n){var i=f(!0),e=null,r=vt,s=null,h=W(o);t=typeof t=="function"?t:t===void 0?Tt:f(t),n=typeof n=="function"?n:n===void 0?bt:f(n);function o(_){var a,l=(_=at(_)).length,u,c=!1,y;for(e==null&&(s=r(y=h())),a=0;a<=l;++a)!(a<l&&i(u=_[a],a,_))===c&&((c=!c)?s.lineStart():s.lineEnd()),c&&s.point(+t(u,a,_),+n(u,a,_));if(y)return s=null,y+""||null}return o.x=function(_){return arguments.length?(t=typeof _=="function"?_:f(+_),o):t},o.y=function(_){return arguments.length?(n=typeof _=="function"?_:f(+_),o):n},o.defined=function(_){return arguments.length?(i=typeof _=="function"?_:f(!!_),o):i},o.curve=function(_){return arguments.length?(r=_,e!=null&&(s=r(e)),o):r},o.context=function(_){return arguments.length?(_==null?e=s=null:s=r(e=_),o):e},o}function fn(t,n,i){var e=null,r=f(!0),s=null,h=vt,o=null,_=W(a);t=typeof t=="function"?t:t===void 0?Tt:f(+t),n=typeof n=="function"?n:f(n===void 0?0:+n),i=typeof i=="function"?i:i===void 0?bt:f(+i);function a(u){var c,y,g,m=(u=at(u)).length,k,d=!1,w,b=new Array(m),T=new Array(m);for(s==null&&(o=h(w=_())),c=0;c<=m;++c){if(!(c<m&&r(k=u[c],c,u))===d)if(d=!d)y=c,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=c-1;g>=y;--g)o.point(b[g],T[g]);o.lineEnd(),o.areaEnd()}d&&(b[c]=+t(k,c,u),T[c]=+n(k,c,u),o.point(e?+e(k,c,u):b[c],i?+i(k,c,u):T[c]))}if(w)return o=null,w+""||null}function l(){return It().defined(r).curve(h).context(s)}return a.x=function(u){return arguments.length?(t=typeof u=="function"?u:f(+u),e=null,a):t},a.x0=function(u){return arguments.length?(t=typeof u=="function"?u:f(+u),a):t},a.x1=function(u){return arguments.length?(e=u==null?null:typeof u=="function"?u:f(+u),a):e},a.y=function(u){return arguments.length?(n=typeof u=="function"?u:f(+u),i=null,a):n},a.y0=function(u){return arguments.length?(n=typeof u=="function"?u:f(+u),a):n},a.y1=function(u){return arguments.length?(i=u==null?null:typeof u=="function"?u:f(+u),a):i},a.lineX0=a.lineY0=function(){return l().x(t).y(n)},a.lineY1=function(){return l().x(t).y(i)},a.lineX1=function(){return l().x(e).y(n)},a.defined=function(u){return arguments.length?(r=typeof u=="function"?u:f(!!u),a):r},a.curve=function(u){return arguments.length?(h=u,s!=null&&(o=h(s)),a):h},a.context=function(u){return arguments.length?(u==null?s=o=null:o=h(s=u),a):s},a}function pn(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function yn(t){return t}function Qn(){var t=yn,n=pn,i=null,e=f(0),r=f(L),s=f(0);function h(o){var _,a=(o=at(o)).length,l,u,c=0,y=new Array(a),g=new Array(a),m=+e.apply(this,arguments),k=Math.min(L,Math.max(-L,r.apply(this,arguments)-m)),d,w=Math.min(Math.abs(k)/a,s.apply(this,arguments)),b=w*(k<0?-1:1),T;for(_=0;_<a;++_)(T=g[y[_]=_]=+t(o[_],_,o))>0&&(c+=T);for(n!=null?y.sort(function(E,A){return n(g[E],g[A])}):i!=null&&y.sort(function(E,A){return i(o[E],o[A])}),_=0,u=c?(k-a*b)/c:0;_<a;++_,m=d)l=y[_],T=g[l],d=m+(T>0?T*u:0)+b,g[l]={data:o[l],index:_,value:T,startAngle:m,endAngle:d,padAngle:w};return g}return h.value=function(o){return arguments.length?(t=typeof o=="function"?o:f(+o),h):t},h.sortValues=function(o){return arguments.length?(n=o,i=null,h):n},h.sort=function(o){return arguments.length?(i=o,n=null,h):i},h.startAngle=function(o){return arguments.length?(e=typeof o=="function"?o:f(+o),h):e},h.endAngle=function(o){return arguments.length?(r=typeof o=="function"?o:f(+o),h):r},h.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:f(+o),h):s},h}var Lt=kt(vt);function Vt(t){this._curve=t}Vt.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};function kt(t){function n(i){return new Vt(t(i))}return n._curve=t,n}function K(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(i){return arguments.length?n(kt(i)):n()._curve},t}function Un(){return K(It().curve(Lt))}function Wn(){var t=fn().curve(Lt),n=t.curve,i=t.lineX0,e=t.lineX1,r=t.lineY0,s=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return K(i())},delete t.lineX0,t.lineEndAngle=function(){return K(e())},delete t.lineX1,t.lineInnerRadius=function(){return K(r())},delete t.lineY0,t.lineOuterRadius=function(){return K(s())},delete t.lineY1,t.curve=function(h){return arguments.length?n(kt(h)):n()._curve},t}function et(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}class Dt{constructor(n,i){this._context=n,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,i){switch(n=+n,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,i,n,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,n,this._y0,n,i);break}}this._x0=n,this._y0=i}}class dn{constructor(n){this._context=n}lineStart(){this._point=0}lineEnd(){}point(n,i){if(n=+n,i=+i,this._point===0)this._point=1;else{const e=et(this._x0,this._y0),r=et(this._x0,this._y0=(this._y0+i)/2),s=et(n,this._y0),h=et(n,i);this._context.moveTo(...e),this._context.bezierCurveTo(...r,...s,...h)}this._x0=n,this._y0=i}}function gn(t){return new Dt(t,!0)}function xn(t){return new Dt(t,!1)}function mn(t){return new dn(t)}function vn(t){return t.source}function Tn(t){return t.target}function wt(t){let n=vn,i=Tn,e=Tt,r=bt,s=null,h=null,o=W(_);function _(){let a;const l=cn.call(arguments),u=n.apply(this,l),c=i.apply(this,l);if(s==null&&(h=t(a=o())),h.lineStart(),l[0]=u,h.point(+e.apply(this,l),+r.apply(this,l)),l[0]=c,h.point(+e.apply(this,l),+r.apply(this,l)),h.lineEnd(),a)return h=null,a+""||null}return _.source=function(a){return arguments.length?(n=a,_):n},_.target=function(a){return arguments.length?(i=a,_):i},_.x=function(a){return arguments.length?(e=typeof a=="function"?a:f(+a),_):e},_.y=function(a){return arguments.length?(r=typeof a=="function"?a:f(+a),_):r},_.context=function(a){return arguments.length?(a==null?s=h=null:h=t(s=a),_):s},_}function Zn(){return wt(gn)}function $n(){return wt(xn)}function jn(){const t=wt(mn);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const bn=v(3),kn={draw(t,n){const i=v(n+J(n/28,.75))*.59436,e=i/2,r=e*bn;t.moveTo(0,i),t.lineTo(0,-i),t.moveTo(-r,-e),t.lineTo(r,e),t.moveTo(-r,e),t.lineTo(r,-e)}},Nt={draw(t,n){const i=v(n/V);t.moveTo(i,0),t.arc(0,0,i,0,L)}},wn={draw(t,n){const i=v(n/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}},Ft=v(1/3),Nn=Ft*2,Sn={draw(t,n){const i=v(n/Nn),e=i*Ft;t.moveTo(0,-i),t.lineTo(e,0),t.lineTo(0,i),t.lineTo(-e,0),t.closePath()}},En={draw(t,n){const i=v(n)*.62625;t.moveTo(0,-i),t.lineTo(i,0),t.lineTo(0,i),t.lineTo(-i,0),t.closePath()}},An={draw(t,n){const i=v(n-J(n/7,2))*.87559;t.moveTo(-i,0),t.lineTo(i,0),t.moveTo(0,i),t.lineTo(0,-i)}},Pn={draw(t,n){const i=v(n),e=-i/2;t.rect(e,e,i,i)}},Rn={draw(t,n){const i=v(n)*.4431;t.moveTo(i,i),t.lineTo(i,-i),t.lineTo(-i,-i),t.lineTo(-i,i),t.closePath()}},Mn=.8908130915292852,Ht=P(V/10)/P(7*V/10),Cn=P(L/10)*Ht,qn=-Y(L/10)*Ht,On={draw(t,n){const i=v(n*Mn),e=Cn*i,r=qn*i;t.moveTo(0,-i),t.lineTo(e,r);for(let s=1;s<5;++s){const h=L*s/5,o=Y(h),_=P(h);t.lineTo(_*i,-o*i),t.lineTo(o*e-_*r,_*e+o*r)}t.closePath()}},gt=v(3),Xn={draw(t,n){const i=-v(n/(gt*3));t.moveTo(0,i*2),t.lineTo(-gt*i,-i),t.lineTo(gt*i,-i),t.closePath()}},Yn=v(3),Bn={draw(t,n){const i=v(n)*.6824,e=i/2,r=i*Yn/2;t.moveTo(0,-i),t.lineTo(r,e),t.lineTo(-r,e),t.closePath()}},C=-.5,q=v(3)/2,mt=1/v(12),zn=(mt/2+1)*3,In={draw(t,n){const i=v(n/zn),e=i/2,r=i*mt,s=e,h=i*mt+i,o=-s,_=h;t.moveTo(e,r),t.lineTo(s,h),t.lineTo(o,_),t.lineTo(C*e-q*r,q*e+C*r),t.lineTo(C*s-q*h,q*s+C*h),t.lineTo(C*o-q*_,q*o+C*_),t.lineTo(C*e+q*r,C*r-q*e),t.lineTo(C*s+q*h,C*h-q*s),t.lineTo(C*o+q*_,C*_-q*o),t.closePath()}},Ln={draw(t,n){const i=v(n-J(n/6,1.7))*.6189;t.moveTo(-i,-i),t.lineTo(i,i),t.moveTo(-i,i),t.lineTo(i,-i)}},ti=[Nt,wn,Sn,Pn,On,Xn,In],ni=[Nt,An,Ln,Bn,kn,Rn,En];function ii(t,n){let i=null,e=W(r);t=typeof t=="function"?t:f(t||Nt),n=typeof n=="function"?n:f(n===void 0?64:+n);function r(){let s;if(i||(i=s=e()),t.apply(this,arguments).draw(i,+n.apply(this,arguments)),s)return i=null,s+""||null}return r.type=function(s){return arguments.length?(t=typeof s=="function"?s:f(s),r):t},r.size=function(s){return arguments.length?(n=typeof s=="function"?s:f(+s),r):n},r.context=function(s){return arguments.length?(i=s==null?null:s,r):i},r}function D(){}function ot(t,n,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+i)/6)}function _t(t){this._context=t}_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ot(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ot(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function ei(t){return new _t(t)}function Gt(t){this._context=t}Gt.prototype={areaStart:D,areaEnd:D,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:ot(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function si(t){return new Gt(t)}function Jt(t){this._context=t}Jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,e=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(i,e):this._context.moveTo(i,e);break;case 3:this._point=4;default:ot(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function oi(t){return new Jt(t)}function Kt(t,n){this._basis=new _t(t),this._beta=n}Kt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,i=t.length-1;if(i>0)for(var e=t[0],r=n[0],s=t[i]-e,h=n[i]-r,o=-1,_;++o<=i;)_=o/i,this._basis.point(this._beta*t[o]+(1-this._beta)*(e+_*s),this._beta*n[o]+(1-this._beta)*(r+_*h));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const ri=function t(n){function i(e){return n===1?new _t(e):new Kt(e,n)}return i.beta=function(e){return t(+e)},i}(.85);function rt(t,n,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function St(t,n){this._context=t,this._k=(1-n)/6}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:rt(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:rt(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const hi=function t(n){function i(e){return new St(e,n)}return i.tension=function(e){return t(+e)},i}(0);function Et(t,n){this._context=t,this._k=(1-n)/6}Et.prototype={areaStart:D,areaEnd:D,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:rt(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const ai=function t(n){function i(e){return new Et(e,n)}return i.tension=function(e){return t(+e)},i}(0);function At(t,n){this._context=t,this._k=(1-n)/6}At.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rt(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const _i=function t(n){function i(e){return new At(e,n)}return i.tension=function(e){return t(+e)},i}(0);function Pt(t,n,i){var e=t._x1,r=t._y1,s=t._x2,h=t._y2;if(t._l01_a>S){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,_=3*t._l01_a*(t._l01_a+t._l12_a);e=(e*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/_,r=(r*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/_}if(t._l23_a>S){var a=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*a+t._x1*t._l23_2a-n*t._l12_2a)/l,h=(h*a+t._y1*t._l23_2a-i*t._l12_2a)/l}t._context.bezierCurveTo(e,r,s,h,t._x2,t._y2)}function Qt(t,n){this._context=t,this._alpha=n}Qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Pt(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const li=function t(n){function i(e){return n?new Qt(e,n):new St(e,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Ut(t,n){this._context=t,this._alpha=n}Ut.prototype={areaStart:D,areaEnd:D,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Pt(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const ui=function t(n){function i(e){return n?new Ut(e,n):new Et(e,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Wt(t,n){this._context=t,this._alpha=n}Wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pt(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const ci=function t(n){function i(e){return n?new Wt(e,n):new At(e,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Zt(t){this._context=t}Zt.prototype={areaStart:D,areaEnd:D,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function fi(t){return new Zt(t)}function Ot(t){return t<0?-1:1}function Xt(t,n,i){var e=t._x1-t._x0,r=n-t._x1,s=(t._y1-t._y0)/(e||r<0&&-0),h=(i-t._y1)/(r||e<0&&-0),o=(s*r+h*e)/(e+r);return(Ot(s)+Ot(h))*Math.min(Math.abs(s),Math.abs(h),.5*Math.abs(o))||0}function Yt(t,n){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-n)/2:n}function xt(t,n,i){var e=t._x0,r=t._y0,s=t._x1,h=t._y1,o=(s-e)/3;t._context.bezierCurveTo(e+o,r+o*n,s-o,h-o*i,s,h)}function ht(t){this._context=t}ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xt(this,this._t0,Yt(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var i=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,xt(this,Yt(this,i=Xt(this,t,n)),i);break;default:xt(this,this._t0,i=Xt(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=i}}};function $t(t){this._context=new jt(t)}($t.prototype=Object.create(ht.prototype)).point=function(t,n){ht.prototype.point.call(this,n,t)};function jt(t){this._context=t}jt.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,i,e,r,s){this._context.bezierCurveTo(n,t,e,i,s,r)}};function pi(t){return new ht(t)}function yi(t){return new $t(t)}function tn(t){this._context=t}tn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),i===2)this._context.lineTo(t[1],n[1]);else for(var e=Bt(t),r=Bt(n),s=0,h=1;h<i;++s,++h)this._context.bezierCurveTo(e[0][s],r[0][s],e[1][s],r[1][s],t[h],n[h]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Bt(t){var n,i=t.length-1,e,r=new Array(i),s=new Array(i),h=new Array(i);for(r[0]=0,s[0]=2,h[0]=t[0]+2*t[1],n=1;n<i-1;++n)r[n]=1,s[n]=4,h[n]=4*t[n]+2*t[n+1];for(r[i-1]=2,s[i-1]=7,h[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=r[n]/s[n-1],s[n]-=e,h[n]-=e*h[n-1];for(r[i-1]=h[i-1]/s[i-1],n=i-2;n>=0;--n)r[n]=(h[n]-r[n+1])/s[n];for(s[i-1]=(t[i]+r[i-1])/2,n=0;n<i-1;++n)s[n]=2*t[n+1]-r[n+1];return[r,s]}function di(t){return new tn(t)}function lt(t,n){this._context=t,this._t=n}lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,n)}break}}this._x=t,this._y=n}};function gi(t){return new lt(t,.5)}function xi(t){return new lt(t,0)}function mi(t){return new lt(t,1)}function Q(t,n){if((h=t.length)>1)for(var i=1,e,r,s=t[n[0]],h,o=s.length;i<h;++i)for(r=s,s=t[n[i]],e=0;e<o;++e)s[e][1]+=s[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function U(t){for(var n=t.length,i=new Array(n);--n>=0;)i[n]=n;return i}function Vn(t,n){return t[n]}function Dn(t){const n=[];return n.key=t,n}function vi(){var t=f([]),n=U,i=Q,e=Vn;function r(s){var h=Array.from(t.apply(this,arguments),Dn),o,_=h.length,a=-1,l;for(const u of s)for(o=0,++a;o<_;++o)(h[o][a]=[0,+e(u,h[o].key,a,s)]).data=u;for(o=0,l=at(n(h));o<_;++o)h[l[o]].index=o;return i(h,l),h}return r.keys=function(s){return arguments.length?(t=typeof s=="function"?s:f(Array.from(s)),r):t},r.value=function(s){return arguments.length?(e=typeof s=="function"?s:f(+s),r):e},r.order=function(s){return arguments.length?(n=s==null?U:typeof s=="function"?s:f(Array.from(s)),r):n},r.offset=function(s){return arguments.length?(i=s==null?Q:s,r):i},r}function Ti(t,n){if((e=t.length)>0){for(var i,e,r=0,s=t[0].length,h;r<s;++r){for(h=i=0;i<e;++i)h+=t[i][r][1]||0;if(h)for(i=0;i<e;++i)t[i][r][1]/=h}Q(t,n)}}function bi(t,n){if((_=t.length)>0)for(var i,e=0,r,s,h,o,_,a=t[n[0]].length;e<a;++e)for(h=o=0,i=0;i<_;++i)(s=(r=t[n[i]][e])[1]-r[0])>0?(r[0]=h,r[1]=h+=s):s<0?(r[1]=o,r[0]=o+=s):(r[0]=0,r[1]=s)}function ki(t,n){if((r=t.length)>0){for(var i=0,e=t[n[0]],r,s=e.length;i<s;++i){for(var h=0,o=0;h<r;++h)o+=t[h][i][1]||0;e[i][1]+=e[i][0]=-o/2}Q(t,n)}}function wi(t,n){if(!(!((h=t.length)>0)||!((s=(r=t[n[0]]).length)>0))){for(var i=0,e=1,r,s,h;e<s;++e){for(var o=0,_=0,a=0;o<h;++o){for(var l=t[n[o]],u=l[e][1]||0,c=l[e-1][1]||0,y=(u-c)/2,g=0;g<o;++g){var m=t[n[g]],k=m[e][1]||0,d=m[e-1][1]||0;y+=k-d}_+=u,a+=y*u}r[e-1][1]+=r[e-1][0]=i,_&&(i-=a/_)}r[e-1][1]+=r[e-1][0]=i,Q(t,n)}}function Fn(t){var n=t.map(Hn);return U(t).sort(function(i,e){return n[i]-n[e]})}function Hn(t){for(var n=-1,i=0,e=t.length,r,s=-1/0;++n<e;)(r=+t[n][1])>s&&(s=r,i=n);return i}function Gn(t){var n=t.map(nn);return U(t).sort(function(i,e){return n[i]-n[e]})}function nn(t){for(var n=0,i=-1,e=t.length,r;++i<e;)(r=+t[i][1])&&(n+=r);return n}function Ni(t){return Gn(t).reverse()}function Si(t){var n=t.length,i,e,r=t.map(nn),s=Fn(t),h=0,o=0,_=[],a=[];for(i=0;i<n;++i)e=s[i],h<o?(h+=r[e],_.push(e)):(o+=r[e],a.push(e));return a.reverse().concat(_)}function Ei(t){return U(t).reverse()}export{Fn as $,si as A,oi as B,ei as C,gn as D,xn as E,ri as F,ai as G,_i as H,hi as I,ui as J,ci as K,li as L,fi as M,vt as N,pi as O,yi as P,di as Q,gi as R,ii as S,mi as T,xi as U,vi as V,Ti as W,bi as X,Q as Y,ki as Z,wi as _,Kn as a,Gn as a0,Ni as a1,Si as a2,U as a3,Ei as a4,fn as b,Wn as c,Un as d,et as e,wt as f,Zn as g,$n as h,jn as i,ti as j,kn as k,It as l,Nt as m,wn as n,Sn as o,Qn as p,En as q,An as r,ni as s,Pn as t,Rn as u,On as v,Xn as w,Bn as x,In as y,Ln as z};
